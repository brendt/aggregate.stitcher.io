[2024-11-09 07:16:54] production.ERROR: SQLSTATE[HY000] [2002] Connection refused (SQL: select count(*) as aggregate from `posts` where `state` = pending and exists (select * from `sources` where `posts`.`source_id` = `sources`.`id` and `state` = published)) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 2002): SQLSTATE[HY000] [2002] Connection refused (SQL: select count(*) as aggregate from `posts` where `state` = pending and exists (select * from `sources` where `posts`.`source_id` = `sources`.`id` and `state` = published)) at /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php:760)
[stacktrace]
#0 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(899): Illuminate\\Database\\Connection->runQueryCallback('select count(*)...', Array, Object(Closure))
#1 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(878): Illuminate\\Database\\Connection->tryAgainIfCausedByLostConnection(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#2 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(722): Illuminate\\Database\\Connection->handleQueryException(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#3 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(405): Illuminate\\Database\\Connection->run('select count(*)...', Array, Object(Closure))
#4 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2705): Illuminate\\Database\\Connection->select('select count(*)...', Array, true)
#5 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2694): Illuminate\\Database\\Query\\Builder->runSelect()
#6 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3230): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2693): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3157): Illuminate\\Database\\Query\\Builder->get(Array)
#9 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3085): Illuminate\\Database\\Query\\Builder->aggregate('count', Array)
#10 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(1869): Illuminate\\Database\\Query\\Builder->count()
#11 /Users/brent/Dev/aggregate.stitcher.io/app/Providers/AppServiceProvider.php(59): Illuminate\\Database\\Eloquent\\Builder->__call('count', Array)
#12 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): App\\Providers\\AppServiceProvider->boot()
#13 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#14 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#15 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#16 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Container.php(661): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#17 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(929): Illuminate\\Container\\Container->call(Array)
#18 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(910): Illuminate\\Foundation\\Application->bootProvider(Object(App\\Providers\\AppServiceProvider))
#19 [internal function]: Illuminate\\Foundation\\Application->Illuminate\\Foundation\\{closure}(Object(App\\Providers\\AppServiceProvider), 29)
#20 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(909): array_walk(Array, Object(Closure))
#21 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/BootProviders.php(17): Illuminate\\Foundation\\Application->boot()
#22 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(242): Illuminate\\Foundation\\Bootstrap\\BootProviders->bootstrap(Object(Illuminate\\Foundation\\Application))
#23 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(383): Illuminate\\Foundation\\Application->bootstrapWith(Array)
#24 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(153): Illuminate\\Foundation\\Console\\Kernel->bootstrap()
#25 /Users/brent/Dev/aggregate.stitcher.io/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#26 {main}

[previous exception] [object] (PDOException(code: 2002): SQLSTATE[HY000] [2002] Connection refused at /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php:70)
[stacktrace]
#0 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(70): PDO->__construct('mysql:host=127....', 'forge', Object(SensitiveParameterValue), Array)
#1 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(100): Illuminate\\Database\\Connectors\\Connector->createPdoConnection('mysql:host=127....', 'forge', '', Array)
#2 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(49): Illuminate\\Database\\Connectors\\Connector->tryAgainIfCausedByLostConnection(Object(PDOException), 'mysql:host=127....', 'forge', '', Array)
#3 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/MySqlConnector.php(24): Illuminate\\Database\\Connectors\\Connector->createConnection('mysql:host=127....', Array, Array)
#4 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/ConnectionFactory.php(184): Illuminate\\Database\\Connectors\\MySqlConnector->connect(Array)
#5 [internal function]: Illuminate\\Database\\Connectors\\ConnectionFactory->Illuminate\\Database\\Connectors\\{closure}()
#6 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1181): call_user_func(Object(Closure))
#7 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1217): Illuminate\\Database\\Connection->getPdo()
#8 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(486): Illuminate\\Database\\Connection->getReadPdo()
#9 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(414): Illuminate\\Database\\Connection->getPdoForSelect(true)
#10 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(753): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select count(*)...', Array)
#11 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(899): Illuminate\\Database\\Connection->runQueryCallback('select count(*)...', Array, Object(Closure))
#12 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(878): Illuminate\\Database\\Connection->tryAgainIfCausedByLostConnection(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#13 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(722): Illuminate\\Database\\Connection->handleQueryException(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#14 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(405): Illuminate\\Database\\Connection->run('select count(*)...', Array, Object(Closure))
#15 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2705): Illuminate\\Database\\Connection->select('select count(*)...', Array, true)
#16 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2694): Illuminate\\Database\\Query\\Builder->runSelect()
#17 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3230): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#18 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2693): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#19 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3157): Illuminate\\Database\\Query\\Builder->get(Array)
#20 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3085): Illuminate\\Database\\Query\\Builder->aggregate('count', Array)
#21 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(1869): Illuminate\\Database\\Query\\Builder->count()
#22 /Users/brent/Dev/aggregate.stitcher.io/app/Providers/AppServiceProvider.php(59): Illuminate\\Database\\Eloquent\\Builder->__call('count', Array)
#23 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): App\\Providers\\AppServiceProvider->boot()
#24 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#26 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#27 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Container.php(661): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#28 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(929): Illuminate\\Container\\Container->call(Array)
#29 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(910): Illuminate\\Foundation\\Application->bootProvider(Object(App\\Providers\\AppServiceProvider))
#30 [internal function]: Illuminate\\Foundation\\Application->Illuminate\\Foundation\\{closure}(Object(App\\Providers\\AppServiceProvider), 29)
#31 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(909): array_walk(Array, Object(Closure))
#32 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/BootProviders.php(17): Illuminate\\Foundation\\Application->boot()
#33 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(242): Illuminate\\Foundation\\Bootstrap\\BootProviders->bootstrap(Object(Illuminate\\Foundation\\Application))
#34 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(383): Illuminate\\Foundation\\Application->bootstrapWith(Array)
#35 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(153): Illuminate\\Foundation\\Console\\Kernel->bootstrap()
#36 /Users/brent/Dev/aggregate.stitcher.io/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#37 {main}
"} 
[2024-11-09 07:52:17] production.ERROR: SQLSTATE[HY000] [2002] Connection refused (SQL: select count(*) as aggregate from `posts` where `state` = pending and exists (select * from `sources` where `posts`.`source_id` = `sources`.`id` and `state` = published)) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 2002): SQLSTATE[HY000] [2002] Connection refused (SQL: select count(*) as aggregate from `posts` where `state` = pending and exists (select * from `sources` where `posts`.`source_id` = `sources`.`id` and `state` = published)) at /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php:760)
[stacktrace]
#0 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(899): Illuminate\\Database\\Connection->runQueryCallback('select count(*)...', Array, Object(Closure))
#1 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(878): Illuminate\\Database\\Connection->tryAgainIfCausedByLostConnection(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#2 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(722): Illuminate\\Database\\Connection->handleQueryException(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#3 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(405): Illuminate\\Database\\Connection->run('select count(*)...', Array, Object(Closure))
#4 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2705): Illuminate\\Database\\Connection->select('select count(*)...', Array, true)
#5 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2694): Illuminate\\Database\\Query\\Builder->runSelect()
#6 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3230): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2693): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3157): Illuminate\\Database\\Query\\Builder->get(Array)
#9 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3085): Illuminate\\Database\\Query\\Builder->aggregate('count', Array)
#10 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(1869): Illuminate\\Database\\Query\\Builder->count()
#11 /Users/brent/Dev/aggregate.stitcher.io/app/Providers/AppServiceProvider.php(59): Illuminate\\Database\\Eloquent\\Builder->__call('count', Array)
#12 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): App\\Providers\\AppServiceProvider->boot()
#13 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#14 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#15 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#16 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Container.php(661): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#17 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(929): Illuminate\\Container\\Container->call(Array)
#18 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(910): Illuminate\\Foundation\\Application->bootProvider(Object(App\\Providers\\AppServiceProvider))
#19 [internal function]: Illuminate\\Foundation\\Application->Illuminate\\Foundation\\{closure}(Object(App\\Providers\\AppServiceProvider), 29)
#20 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(909): array_walk(Array, Object(Closure))
#21 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/BootProviders.php(17): Illuminate\\Foundation\\Application->boot()
#22 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(242): Illuminate\\Foundation\\Bootstrap\\BootProviders->bootstrap(Object(Illuminate\\Foundation\\Application))
#23 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(383): Illuminate\\Foundation\\Application->bootstrapWith(Array)
#24 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(153): Illuminate\\Foundation\\Console\\Kernel->bootstrap()
#25 /Users/brent/Dev/aggregate.stitcher.io/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#26 {main}

[previous exception] [object] (PDOException(code: 2002): SQLSTATE[HY000] [2002] Connection refused at /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php:70)
[stacktrace]
#0 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(70): PDO->__construct('mysql:host=127....', 'forge', Object(SensitiveParameterValue), Array)
#1 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(100): Illuminate\\Database\\Connectors\\Connector->createPdoConnection('mysql:host=127....', 'forge', '', Array)
#2 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(49): Illuminate\\Database\\Connectors\\Connector->tryAgainIfCausedByLostConnection(Object(PDOException), 'mysql:host=127....', 'forge', '', Array)
#3 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/MySqlConnector.php(24): Illuminate\\Database\\Connectors\\Connector->createConnection('mysql:host=127....', Array, Array)
#4 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/ConnectionFactory.php(184): Illuminate\\Database\\Connectors\\MySqlConnector->connect(Array)
#5 [internal function]: Illuminate\\Database\\Connectors\\ConnectionFactory->Illuminate\\Database\\Connectors\\{closure}()
#6 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1181): call_user_func(Object(Closure))
#7 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1217): Illuminate\\Database\\Connection->getPdo()
#8 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(486): Illuminate\\Database\\Connection->getReadPdo()
#9 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(414): Illuminate\\Database\\Connection->getPdoForSelect(true)
#10 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(753): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select count(*)...', Array)
#11 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(899): Illuminate\\Database\\Connection->runQueryCallback('select count(*)...', Array, Object(Closure))
#12 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(878): Illuminate\\Database\\Connection->tryAgainIfCausedByLostConnection(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#13 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(722): Illuminate\\Database\\Connection->handleQueryException(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#14 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(405): Illuminate\\Database\\Connection->run('select count(*)...', Array, Object(Closure))
#15 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2705): Illuminate\\Database\\Connection->select('select count(*)...', Array, true)
#16 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2694): Illuminate\\Database\\Query\\Builder->runSelect()
#17 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3230): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#18 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2693): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#19 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3157): Illuminate\\Database\\Query\\Builder->get(Array)
#20 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3085): Illuminate\\Database\\Query\\Builder->aggregate('count', Array)
#21 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(1869): Illuminate\\Database\\Query\\Builder->count()
#22 /Users/brent/Dev/aggregate.stitcher.io/app/Providers/AppServiceProvider.php(59): Illuminate\\Database\\Eloquent\\Builder->__call('count', Array)
#23 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): App\\Providers\\AppServiceProvider->boot()
#24 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#26 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#27 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Container.php(661): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#28 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(929): Illuminate\\Container\\Container->call(Array)
#29 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(910): Illuminate\\Foundation\\Application->bootProvider(Object(App\\Providers\\AppServiceProvider))
#30 [internal function]: Illuminate\\Foundation\\Application->Illuminate\\Foundation\\{closure}(Object(App\\Providers\\AppServiceProvider), 29)
#31 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(909): array_walk(Array, Object(Closure))
#32 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/BootProviders.php(17): Illuminate\\Foundation\\Application->boot()
#33 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(242): Illuminate\\Foundation\\Bootstrap\\BootProviders->bootstrap(Object(Illuminate\\Foundation\\Application))
#34 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(383): Illuminate\\Foundation\\Application->bootstrapWith(Array)
#35 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(153): Illuminate\\Foundation\\Console\\Kernel->bootstrap()
#36 /Users/brent/Dev/aggregate.stitcher.io/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#37 {main}
"} 
[2024-11-09 08:22:22] production.ERROR: SQLSTATE[HY000] [2002] Connection refused (SQL: select count(*) as aggregate from `posts` where `state` = pending and exists (select * from `sources` where `posts`.`source_id` = `sources`.`id` and `state` = published)) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 2002): SQLSTATE[HY000] [2002] Connection refused (SQL: select count(*) as aggregate from `posts` where `state` = pending and exists (select * from `sources` where `posts`.`source_id` = `sources`.`id` and `state` = published)) at /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php:760)
[stacktrace]
#0 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(899): Illuminate\\Database\\Connection->runQueryCallback('select count(*)...', Array, Object(Closure))
#1 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(878): Illuminate\\Database\\Connection->tryAgainIfCausedByLostConnection(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#2 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(722): Illuminate\\Database\\Connection->handleQueryException(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#3 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(405): Illuminate\\Database\\Connection->run('select count(*)...', Array, Object(Closure))
#4 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2705): Illuminate\\Database\\Connection->select('select count(*)...', Array, true)
#5 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2694): Illuminate\\Database\\Query\\Builder->runSelect()
#6 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3230): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2693): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3157): Illuminate\\Database\\Query\\Builder->get(Array)
#9 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3085): Illuminate\\Database\\Query\\Builder->aggregate('count', Array)
#10 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(1869): Illuminate\\Database\\Query\\Builder->count()
#11 /Users/brent/Dev/aggregate.stitcher.io/app/Providers/AppServiceProvider.php(59): Illuminate\\Database\\Eloquent\\Builder->__call('count', Array)
#12 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): App\\Providers\\AppServiceProvider->boot()
#13 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#14 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#15 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#16 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Container.php(661): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#17 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(929): Illuminate\\Container\\Container->call(Array)
#18 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(910): Illuminate\\Foundation\\Application->bootProvider(Object(App\\Providers\\AppServiceProvider))
#19 [internal function]: Illuminate\\Foundation\\Application->Illuminate\\Foundation\\{closure}(Object(App\\Providers\\AppServiceProvider), 29)
#20 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(909): array_walk(Array, Object(Closure))
#21 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/BootProviders.php(17): Illuminate\\Foundation\\Application->boot()
#22 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(242): Illuminate\\Foundation\\Bootstrap\\BootProviders->bootstrap(Object(Illuminate\\Foundation\\Application))
#23 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\\Foundation\\Application->bootstrapWith(Array)
#24 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(160): Illuminate\\Foundation\\Http\\Kernel->bootstrap()
#25 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(134): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#26 /Users/brent/Dev/aggregate.stitcher.io/public/index.php(51): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#27 /Users/brent/.composer/vendor/laravel/valet/server.php(110): require('/Users/brent/De...')
#28 {main}

[previous exception] [object] (PDOException(code: 2002): SQLSTATE[HY000] [2002] Connection refused at /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php:70)
[stacktrace]
#0 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(70): PDO->__construct('mysql:host=127....', 'forge', Object(SensitiveParameterValue), Array)
#1 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(100): Illuminate\\Database\\Connectors\\Connector->createPdoConnection('mysql:host=127....', 'forge', '', Array)
#2 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(49): Illuminate\\Database\\Connectors\\Connector->tryAgainIfCausedByLostConnection(Object(PDOException), 'mysql:host=127....', 'forge', '', Array)
#3 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/MySqlConnector.php(24): Illuminate\\Database\\Connectors\\Connector->createConnection('mysql:host=127....', Array, Array)
#4 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/ConnectionFactory.php(184): Illuminate\\Database\\Connectors\\MySqlConnector->connect(Array)
#5 [internal function]: Illuminate\\Database\\Connectors\\ConnectionFactory->Illuminate\\Database\\Connectors\\{closure}()
#6 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1181): call_user_func(Object(Closure))
#7 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1217): Illuminate\\Database\\Connection->getPdo()
#8 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(486): Illuminate\\Database\\Connection->getReadPdo()
#9 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(414): Illuminate\\Database\\Connection->getPdoForSelect(true)
#10 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(753): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select count(*)...', Array)
#11 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(899): Illuminate\\Database\\Connection->runQueryCallback('select count(*)...', Array, Object(Closure))
#12 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(878): Illuminate\\Database\\Connection->tryAgainIfCausedByLostConnection(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#13 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(722): Illuminate\\Database\\Connection->handleQueryException(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#14 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(405): Illuminate\\Database\\Connection->run('select count(*)...', Array, Object(Closure))
#15 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2705): Illuminate\\Database\\Connection->select('select count(*)...', Array, true)
#16 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2694): Illuminate\\Database\\Query\\Builder->runSelect()
#17 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3230): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#18 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2693): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#19 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3157): Illuminate\\Database\\Query\\Builder->get(Array)
#20 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3085): Illuminate\\Database\\Query\\Builder->aggregate('count', Array)
#21 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(1869): Illuminate\\Database\\Query\\Builder->count()
#22 /Users/brent/Dev/aggregate.stitcher.io/app/Providers/AppServiceProvider.php(59): Illuminate\\Database\\Eloquent\\Builder->__call('count', Array)
#23 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): App\\Providers\\AppServiceProvider->boot()
#24 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#26 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#27 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Container.php(661): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#28 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(929): Illuminate\\Container\\Container->call(Array)
#29 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(910): Illuminate\\Foundation\\Application->bootProvider(Object(App\\Providers\\AppServiceProvider))
#30 [internal function]: Illuminate\\Foundation\\Application->Illuminate\\Foundation\\{closure}(Object(App\\Providers\\AppServiceProvider), 29)
#31 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(909): array_walk(Array, Object(Closure))
#32 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/BootProviders.php(17): Illuminate\\Foundation\\Application->boot()
#33 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(242): Illuminate\\Foundation\\Bootstrap\\BootProviders->bootstrap(Object(Illuminate\\Foundation\\Application))
#34 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\\Foundation\\Application->bootstrapWith(Array)
#35 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(160): Illuminate\\Foundation\\Http\\Kernel->bootstrap()
#36 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(134): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#37 /Users/brent/Dev/aggregate.stitcher.io/public/index.php(51): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#38 /Users/brent/.composer/vendor/laravel/valet/server.php(110): require('/Users/brent/De...')
#39 {main}
"} 
[2024-11-11 06:00:24] production.ERROR: SQLSTATE[HY000] [2002] Connection refused (SQL: select count(*) as aggregate from `posts` where `state` = pending and exists (select * from `sources` where `posts`.`source_id` = `sources`.`id` and `state` = published)) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 2002): SQLSTATE[HY000] [2002] Connection refused (SQL: select count(*) as aggregate from `posts` where `state` = pending and exists (select * from `sources` where `posts`.`source_id` = `sources`.`id` and `state` = published)) at /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php:760)
[stacktrace]
#0 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(899): Illuminate\\Database\\Connection->runQueryCallback('select count(*)...', Array, Object(Closure))
#1 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(878): Illuminate\\Database\\Connection->tryAgainIfCausedByLostConnection(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#2 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(722): Illuminate\\Database\\Connection->handleQueryException(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#3 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(405): Illuminate\\Database\\Connection->run('select count(*)...', Array, Object(Closure))
#4 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2705): Illuminate\\Database\\Connection->select('select count(*)...', Array, true)
#5 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2694): Illuminate\\Database\\Query\\Builder->runSelect()
#6 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3230): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2693): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3157): Illuminate\\Database\\Query\\Builder->get(Array)
#9 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3085): Illuminate\\Database\\Query\\Builder->aggregate('count', Array)
#10 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(1869): Illuminate\\Database\\Query\\Builder->count()
#11 /Users/brent/Dev/aggregate.stitcher.io/app/Providers/AppServiceProvider.php(59): Illuminate\\Database\\Eloquent\\Builder->__call('count', Array)
#12 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): App\\Providers\\AppServiceProvider->boot()
#13 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#14 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#15 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#16 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Container.php(661): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#17 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(929): Illuminate\\Container\\Container->call(Array)
#18 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(910): Illuminate\\Foundation\\Application->bootProvider(Object(App\\Providers\\AppServiceProvider))
#19 [internal function]: Illuminate\\Foundation\\Application->Illuminate\\Foundation\\{closure}(Object(App\\Providers\\AppServiceProvider), 29)
#20 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(909): array_walk(Array, Object(Closure))
#21 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/BootProviders.php(17): Illuminate\\Foundation\\Application->boot()
#22 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(242): Illuminate\\Foundation\\Bootstrap\\BootProviders->bootstrap(Object(Illuminate\\Foundation\\Application))
#23 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(383): Illuminate\\Foundation\\Application->bootstrapWith(Array)
#24 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(153): Illuminate\\Foundation\\Console\\Kernel->bootstrap()
#25 /Users/brent/Dev/aggregate.stitcher.io/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#26 {main}

[previous exception] [object] (PDOException(code: 2002): SQLSTATE[HY000] [2002] Connection refused at /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php:70)
[stacktrace]
#0 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(70): PDO->__construct('mysql:host=127....', 'forge', Object(SensitiveParameterValue), Array)
#1 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(100): Illuminate\\Database\\Connectors\\Connector->createPdoConnection('mysql:host=127....', 'forge', '', Array)
#2 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(49): Illuminate\\Database\\Connectors\\Connector->tryAgainIfCausedByLostConnection(Object(PDOException), 'mysql:host=127....', 'forge', '', Array)
#3 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/MySqlConnector.php(24): Illuminate\\Database\\Connectors\\Connector->createConnection('mysql:host=127....', Array, Array)
#4 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/ConnectionFactory.php(184): Illuminate\\Database\\Connectors\\MySqlConnector->connect(Array)
#5 [internal function]: Illuminate\\Database\\Connectors\\ConnectionFactory->Illuminate\\Database\\Connectors\\{closure}()
#6 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1181): call_user_func(Object(Closure))
#7 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1217): Illuminate\\Database\\Connection->getPdo()
#8 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(486): Illuminate\\Database\\Connection->getReadPdo()
#9 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(414): Illuminate\\Database\\Connection->getPdoForSelect(true)
#10 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(753): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select count(*)...', Array)
#11 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(899): Illuminate\\Database\\Connection->runQueryCallback('select count(*)...', Array, Object(Closure))
#12 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(878): Illuminate\\Database\\Connection->tryAgainIfCausedByLostConnection(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#13 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(722): Illuminate\\Database\\Connection->handleQueryException(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#14 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(405): Illuminate\\Database\\Connection->run('select count(*)...', Array, Object(Closure))
#15 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2705): Illuminate\\Database\\Connection->select('select count(*)...', Array, true)
#16 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2694): Illuminate\\Database\\Query\\Builder->runSelect()
#17 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3230): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#18 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2693): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#19 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3157): Illuminate\\Database\\Query\\Builder->get(Array)
#20 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3085): Illuminate\\Database\\Query\\Builder->aggregate('count', Array)
#21 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(1869): Illuminate\\Database\\Query\\Builder->count()
#22 /Users/brent/Dev/aggregate.stitcher.io/app/Providers/AppServiceProvider.php(59): Illuminate\\Database\\Eloquent\\Builder->__call('count', Array)
#23 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): App\\Providers\\AppServiceProvider->boot()
#24 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#26 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#27 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Container.php(661): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#28 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(929): Illuminate\\Container\\Container->call(Array)
#29 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(910): Illuminate\\Foundation\\Application->bootProvider(Object(App\\Providers\\AppServiceProvider))
#30 [internal function]: Illuminate\\Foundation\\Application->Illuminate\\Foundation\\{closure}(Object(App\\Providers\\AppServiceProvider), 29)
#31 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(909): array_walk(Array, Object(Closure))
#32 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/BootProviders.php(17): Illuminate\\Foundation\\Application->boot()
#33 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(242): Illuminate\\Foundation\\Bootstrap\\BootProviders->bootstrap(Object(Illuminate\\Foundation\\Application))
#34 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(383): Illuminate\\Foundation\\Application->bootstrapWith(Array)
#35 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(153): Illuminate\\Foundation\\Console\\Kernel->bootstrap()
#36 /Users/brent/Dev/aggregate.stitcher.io/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#37 {main}
"} 
[2024-11-15 08:15:58] production.ERROR: SQLSTATE[HY000] [2002] Connection refused (SQL: select count(*) as aggregate from `posts` where `state` = pending and exists (select * from `sources` where `posts`.`source_id` = `sources`.`id` and `state` = published)) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 2002): SQLSTATE[HY000] [2002] Connection refused (SQL: select count(*) as aggregate from `posts` where `state` = pending and exists (select * from `sources` where `posts`.`source_id` = `sources`.`id` and `state` = published)) at /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php:760)
[stacktrace]
#0 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(899): Illuminate\\Database\\Connection->runQueryCallback('select count(*)...', Array, Object(Closure))
#1 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(878): Illuminate\\Database\\Connection->tryAgainIfCausedByLostConnection(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#2 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(722): Illuminate\\Database\\Connection->handleQueryException(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#3 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(405): Illuminate\\Database\\Connection->run('select count(*)...', Array, Object(Closure))
#4 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2705): Illuminate\\Database\\Connection->select('select count(*)...', Array, true)
#5 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2694): Illuminate\\Database\\Query\\Builder->runSelect()
#6 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3230): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2693): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3157): Illuminate\\Database\\Query\\Builder->get(Array)
#9 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3085): Illuminate\\Database\\Query\\Builder->aggregate('count', Array)
#10 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(1869): Illuminate\\Database\\Query\\Builder->count()
#11 /Users/brent/Dev/aggregate.stitcher.io/app/Providers/AppServiceProvider.php(59): Illuminate\\Database\\Eloquent\\Builder->__call('count', Array)
#12 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): App\\Providers\\AppServiceProvider->boot()
#13 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#14 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#15 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#16 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Container.php(661): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#17 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(929): Illuminate\\Container\\Container->call(Array)
#18 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(910): Illuminate\\Foundation\\Application->bootProvider(Object(App\\Providers\\AppServiceProvider))
#19 [internal function]: Illuminate\\Foundation\\Application->Illuminate\\Foundation\\{closure}(Object(App\\Providers\\AppServiceProvider), 29)
#20 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(909): array_walk(Array, Object(Closure))
#21 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/BootProviders.php(17): Illuminate\\Foundation\\Application->boot()
#22 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(242): Illuminate\\Foundation\\Bootstrap\\BootProviders->bootstrap(Object(Illuminate\\Foundation\\Application))
#23 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(383): Illuminate\\Foundation\\Application->bootstrapWith(Array)
#24 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(153): Illuminate\\Foundation\\Console\\Kernel->bootstrap()
#25 /Users/brent/Dev/aggregate.stitcher.io/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#26 {main}

[previous exception] [object] (PDOException(code: 2002): SQLSTATE[HY000] [2002] Connection refused at /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php:70)
[stacktrace]
#0 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(70): PDO->__construct('mysql:host=127....', 'forge', Object(SensitiveParameterValue), Array)
#1 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(100): Illuminate\\Database\\Connectors\\Connector->createPdoConnection('mysql:host=127....', 'forge', '', Array)
#2 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(49): Illuminate\\Database\\Connectors\\Connector->tryAgainIfCausedByLostConnection(Object(PDOException), 'mysql:host=127....', 'forge', '', Array)
#3 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/MySqlConnector.php(24): Illuminate\\Database\\Connectors\\Connector->createConnection('mysql:host=127....', Array, Array)
#4 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/ConnectionFactory.php(184): Illuminate\\Database\\Connectors\\MySqlConnector->connect(Array)
#5 [internal function]: Illuminate\\Database\\Connectors\\ConnectionFactory->Illuminate\\Database\\Connectors\\{closure}()
#6 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1181): call_user_func(Object(Closure))
#7 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1217): Illuminate\\Database\\Connection->getPdo()
#8 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(486): Illuminate\\Database\\Connection->getReadPdo()
#9 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(414): Illuminate\\Database\\Connection->getPdoForSelect(true)
#10 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(753): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select count(*)...', Array)
#11 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(899): Illuminate\\Database\\Connection->runQueryCallback('select count(*)...', Array, Object(Closure))
#12 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(878): Illuminate\\Database\\Connection->tryAgainIfCausedByLostConnection(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#13 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(722): Illuminate\\Database\\Connection->handleQueryException(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#14 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(405): Illuminate\\Database\\Connection->run('select count(*)...', Array, Object(Closure))
#15 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2705): Illuminate\\Database\\Connection->select('select count(*)...', Array, true)
#16 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2694): Illuminate\\Database\\Query\\Builder->runSelect()
#17 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3230): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#18 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2693): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#19 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3157): Illuminate\\Database\\Query\\Builder->get(Array)
#20 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3085): Illuminate\\Database\\Query\\Builder->aggregate('count', Array)
#21 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(1869): Illuminate\\Database\\Query\\Builder->count()
#22 /Users/brent/Dev/aggregate.stitcher.io/app/Providers/AppServiceProvider.php(59): Illuminate\\Database\\Eloquent\\Builder->__call('count', Array)
#23 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): App\\Providers\\AppServiceProvider->boot()
#24 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#26 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#27 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Container.php(661): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#28 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(929): Illuminate\\Container\\Container->call(Array)
#29 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(910): Illuminate\\Foundation\\Application->bootProvider(Object(App\\Providers\\AppServiceProvider))
#30 [internal function]: Illuminate\\Foundation\\Application->Illuminate\\Foundation\\{closure}(Object(App\\Providers\\AppServiceProvider), 29)
#31 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(909): array_walk(Array, Object(Closure))
#32 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/BootProviders.php(17): Illuminate\\Foundation\\Application->boot()
#33 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(242): Illuminate\\Foundation\\Bootstrap\\BootProviders->bootstrap(Object(Illuminate\\Foundation\\Application))
#34 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(383): Illuminate\\Foundation\\Application->bootstrapWith(Array)
#35 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(153): Illuminate\\Foundation\\Console\\Kernel->bootstrap()
#36 /Users/brent/Dev/aggregate.stitcher.io/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#37 {main}
"} 
[2024-11-15 17:16:20] production.ERROR: SQLSTATE[HY000] [2002] Connection refused (SQL: select count(*) as aggregate from `posts` where `state` = pending and exists (select * from `sources` where `posts`.`source_id` = `sources`.`id` and `state` = published)) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 2002): SQLSTATE[HY000] [2002] Connection refused (SQL: select count(*) as aggregate from `posts` where `state` = pending and exists (select * from `sources` where `posts`.`source_id` = `sources`.`id` and `state` = published)) at /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php:760)
[stacktrace]
#0 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(899): Illuminate\\Database\\Connection->runQueryCallback('select count(*)...', Array, Object(Closure))
#1 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(878): Illuminate\\Database\\Connection->tryAgainIfCausedByLostConnection(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#2 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(722): Illuminate\\Database\\Connection->handleQueryException(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#3 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(405): Illuminate\\Database\\Connection->run('select count(*)...', Array, Object(Closure))
#4 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2705): Illuminate\\Database\\Connection->select('select count(*)...', Array, true)
#5 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2694): Illuminate\\Database\\Query\\Builder->runSelect()
#6 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3230): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2693): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3157): Illuminate\\Database\\Query\\Builder->get(Array)
#9 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3085): Illuminate\\Database\\Query\\Builder->aggregate('count', Array)
#10 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(1869): Illuminate\\Database\\Query\\Builder->count()
#11 /Users/brent/Dev/aggregate.stitcher.io/app/Providers/AppServiceProvider.php(59): Illuminate\\Database\\Eloquent\\Builder->__call('count', Array)
#12 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): App\\Providers\\AppServiceProvider->boot()
#13 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#14 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#15 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#16 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Container.php(661): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#17 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(929): Illuminate\\Container\\Container->call(Array)
#18 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(910): Illuminate\\Foundation\\Application->bootProvider(Object(App\\Providers\\AppServiceProvider))
#19 [internal function]: Illuminate\\Foundation\\Application->Illuminate\\Foundation\\{closure}(Object(App\\Providers\\AppServiceProvider), 29)
#20 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(909): array_walk(Array, Object(Closure))
#21 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/BootProviders.php(17): Illuminate\\Foundation\\Application->boot()
#22 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(242): Illuminate\\Foundation\\Bootstrap\\BootProviders->bootstrap(Object(Illuminate\\Foundation\\Application))
#23 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(383): Illuminate\\Foundation\\Application->bootstrapWith(Array)
#24 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(153): Illuminate\\Foundation\\Console\\Kernel->bootstrap()
#25 /Users/brent/Dev/aggregate.stitcher.io/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#26 {main}

[previous exception] [object] (PDOException(code: 2002): SQLSTATE[HY000] [2002] Connection refused at /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php:70)
[stacktrace]
#0 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(70): PDO->__construct('mysql:host=127....', 'forge', Object(SensitiveParameterValue), Array)
#1 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(100): Illuminate\\Database\\Connectors\\Connector->createPdoConnection('mysql:host=127....', 'forge', '', Array)
#2 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(49): Illuminate\\Database\\Connectors\\Connector->tryAgainIfCausedByLostConnection(Object(PDOException), 'mysql:host=127....', 'forge', '', Array)
#3 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/MySqlConnector.php(24): Illuminate\\Database\\Connectors\\Connector->createConnection('mysql:host=127....', Array, Array)
#4 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/ConnectionFactory.php(184): Illuminate\\Database\\Connectors\\MySqlConnector->connect(Array)
#5 [internal function]: Illuminate\\Database\\Connectors\\ConnectionFactory->Illuminate\\Database\\Connectors\\{closure}()
#6 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1181): call_user_func(Object(Closure))
#7 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1217): Illuminate\\Database\\Connection->getPdo()
#8 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(486): Illuminate\\Database\\Connection->getReadPdo()
#9 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(414): Illuminate\\Database\\Connection->getPdoForSelect(true)
#10 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(753): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select count(*)...', Array)
#11 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(899): Illuminate\\Database\\Connection->runQueryCallback('select count(*)...', Array, Object(Closure))
#12 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(878): Illuminate\\Database\\Connection->tryAgainIfCausedByLostConnection(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#13 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(722): Illuminate\\Database\\Connection->handleQueryException(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#14 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(405): Illuminate\\Database\\Connection->run('select count(*)...', Array, Object(Closure))
#15 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2705): Illuminate\\Database\\Connection->select('select count(*)...', Array, true)
#16 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2694): Illuminate\\Database\\Query\\Builder->runSelect()
#17 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3230): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#18 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2693): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#19 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3157): Illuminate\\Database\\Query\\Builder->get(Array)
#20 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3085): Illuminate\\Database\\Query\\Builder->aggregate('count', Array)
#21 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(1869): Illuminate\\Database\\Query\\Builder->count()
#22 /Users/brent/Dev/aggregate.stitcher.io/app/Providers/AppServiceProvider.php(59): Illuminate\\Database\\Eloquent\\Builder->__call('count', Array)
#23 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): App\\Providers\\AppServiceProvider->boot()
#24 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#26 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#27 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Container.php(661): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#28 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(929): Illuminate\\Container\\Container->call(Array)
#29 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(910): Illuminate\\Foundation\\Application->bootProvider(Object(App\\Providers\\AppServiceProvider))
#30 [internal function]: Illuminate\\Foundation\\Application->Illuminate\\Foundation\\{closure}(Object(App\\Providers\\AppServiceProvider), 29)
#31 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(909): array_walk(Array, Object(Closure))
#32 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/BootProviders.php(17): Illuminate\\Foundation\\Application->boot()
#33 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(242): Illuminate\\Foundation\\Bootstrap\\BootProviders->bootstrap(Object(Illuminate\\Foundation\\Application))
#34 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(383): Illuminate\\Foundation\\Application->bootstrapWith(Array)
#35 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(153): Illuminate\\Foundation\\Console\\Kernel->bootstrap()
#36 /Users/brent/Dev/aggregate.stitcher.io/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#37 {main}
"} 
[2025-01-29 09:21:28] production.ERROR: SQLSTATE[HY000] [2002] Connection refused (SQL: select count(*) as aggregate from `posts` where `state` = pending and exists (select * from `sources` where `posts`.`source_id` = `sources`.`id` and `state` = published)) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 2002): SQLSTATE[HY000] [2002] Connection refused (SQL: select count(*) as aggregate from `posts` where `state` = pending and exists (select * from `sources` where `posts`.`source_id` = `sources`.`id` and `state` = published)) at /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php:760)
[stacktrace]
#0 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(899): Illuminate\\Database\\Connection->runQueryCallback('select count(*)...', Array, Object(Closure))
#1 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(878): Illuminate\\Database\\Connection->tryAgainIfCausedByLostConnection(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#2 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(722): Illuminate\\Database\\Connection->handleQueryException(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#3 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(405): Illuminate\\Database\\Connection->run('select count(*)...', Array, Object(Closure))
#4 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2705): Illuminate\\Database\\Connection->select('select count(*)...', Array, true)
#5 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2694): Illuminate\\Database\\Query\\Builder->runSelect()
#6 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3230): Illuminate\\Database\\Query\\Builder->{closure:Illuminate\\Database\\Query\\Builder::get():2693}()
#7 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2693): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3157): Illuminate\\Database\\Query\\Builder->get(Array)
#9 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3085): Illuminate\\Database\\Query\\Builder->aggregate('count', Array)
#10 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(1869): Illuminate\\Database\\Query\\Builder->count()
#11 /Users/brent/Dev/aggregate.stitcher.io/app/Providers/AppServiceProvider.php(59): Illuminate\\Database\\Eloquent\\Builder->__call('count', Array)
#12 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): App\\Providers\\AppServiceProvider->boot()
#13 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::{closure:Illuminate\\Container\\BoundMethod::call():35}()
#14 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#15 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#16 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Container.php(661): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#17 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(929): Illuminate\\Container\\Container->call(Array)
#18 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(910): Illuminate\\Foundation\\Application->bootProvider(Object(App\\Providers\\AppServiceProvider))
#19 [internal function]: Illuminate\\Foundation\\Application->{closure:Illuminate\\Foundation\\Application::boot():909}(Object(App\\Providers\\AppServiceProvider), 29)
#20 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(909): array_walk(Array, Object(Closure))
#21 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/BootProviders.php(17): Illuminate\\Foundation\\Application->boot()
#22 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(242): Illuminate\\Foundation\\Bootstrap\\BootProviders->bootstrap(Object(Illuminate\\Foundation\\Application))
#23 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\\Foundation\\Application->bootstrapWith(Array)
#24 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(160): Illuminate\\Foundation\\Http\\Kernel->bootstrap()
#25 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(134): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#26 /Users/brent/Dev/aggregate.stitcher.io/public/index.php(51): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#27 /Users/brent/.composer/vendor/laravel/valet/server.php(110): require('/Users/brent/De...')
#28 {main}

[previous exception] [object] (PDOException(code: 2002): SQLSTATE[HY000] [2002] Connection refused at /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php:70)
[stacktrace]
#0 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(70): PDO->__construct('mysql:host=127....', 'forge', Object(SensitiveParameterValue), Array)
#1 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(100): Illuminate\\Database\\Connectors\\Connector->createPdoConnection('mysql:host=127....', 'forge', '', Array)
#2 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(49): Illuminate\\Database\\Connectors\\Connector->tryAgainIfCausedByLostConnection(Object(PDOException), 'mysql:host=127....', 'forge', '', Array)
#3 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/MySqlConnector.php(24): Illuminate\\Database\\Connectors\\Connector->createConnection('mysql:host=127....', Array, Array)
#4 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connectors/ConnectionFactory.php(184): Illuminate\\Database\\Connectors\\MySqlConnector->connect(Array)
#5 [internal function]: Illuminate\\Database\\Connectors\\ConnectionFactory->{closure:Illuminate\\Database\\Connectors\\ConnectionFactory::createPdoResolverWithHosts():179}()
#6 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1181): call_user_func(Object(Closure))
#7 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(1217): Illuminate\\Database\\Connection->getPdo()
#8 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(486): Illuminate\\Database\\Connection->getReadPdo()
#9 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(414): Illuminate\\Database\\Connection->getPdoForSelect(true)
#10 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(753): Illuminate\\Database\\Connection->{closure:Illuminate\\Database\\Connection::select():405}('select count(*)...', Array)
#11 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(899): Illuminate\\Database\\Connection->runQueryCallback('select count(*)...', Array, Object(Closure))
#12 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(878): Illuminate\\Database\\Connection->tryAgainIfCausedByLostConnection(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#13 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(722): Illuminate\\Database\\Connection->handleQueryException(Object(Illuminate\\Database\\QueryException), 'select count(*)...', Array, Object(Closure))
#14 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Connection.php(405): Illuminate\\Database\\Connection->run('select count(*)...', Array, Object(Closure))
#15 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2705): Illuminate\\Database\\Connection->select('select count(*)...', Array, true)
#16 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2694): Illuminate\\Database\\Query\\Builder->runSelect()
#17 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3230): Illuminate\\Database\\Query\\Builder->{closure:Illuminate\\Database\\Query\\Builder::get():2693}()
#18 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2693): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#19 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3157): Illuminate\\Database\\Query\\Builder->get(Array)
#20 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(3085): Illuminate\\Database\\Query\\Builder->aggregate('count', Array)
#21 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(1869): Illuminate\\Database\\Query\\Builder->count()
#22 /Users/brent/Dev/aggregate.stitcher.io/app/Providers/AppServiceProvider.php(59): Illuminate\\Database\\Eloquent\\Builder->__call('count', Array)
#23 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(36): App\\Providers\\AppServiceProvider->boot()
#24 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Util.php(41): Illuminate\\Container\\BoundMethod::{closure:Illuminate\\Container\\BoundMethod::call():35}()
#25 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#26 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#27 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Container/Container.php(661): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#28 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(929): Illuminate\\Container\\Container->call(Array)
#29 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(910): Illuminate\\Foundation\\Application->bootProvider(Object(App\\Providers\\AppServiceProvider))
#30 [internal function]: Illuminate\\Foundation\\Application->{closure:Illuminate\\Foundation\\Application::boot():909}(Object(App\\Providers\\AppServiceProvider), 29)
#31 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(909): array_walk(Array, Object(Closure))
#32 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/BootProviders.php(17): Illuminate\\Foundation\\Application->boot()
#33 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(242): Illuminate\\Foundation\\Bootstrap\\BootProviders->bootstrap(Object(Illuminate\\Foundation\\Application))
#34 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\\Foundation\\Application->bootstrapWith(Array)
#35 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(160): Illuminate\\Foundation\\Http\\Kernel->bootstrap()
#36 /Users/brent/Dev/aggregate.stitcher.io/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(134): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#37 /Users/brent/Dev/aggregate.stitcher.io/public/index.php(51): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#38 /Users/brent/.composer/vendor/laravel/valet/server.php(110): require('/Users/brent/De...')
#39 {main}
"} 
